/**
 * \file   CAbout.cpp
 * \brief  about widget
 */


#include "CAbout.h"

#include "../QtLib/CUtils.h"
#include "../QtLib/CApplication.h"


/**************************************************************************************************
*   public
*
**************************************************************************************************/

//-------------------------------------------------------------------------------------------------
CAbout::CAbout(
    QWidget *a_parent
) :
    QDialog(a_parent)
{
    _construct();
}
//-------------------------------------------------------------------------------------------------

/**************************************************************************************************
*   private
*
**************************************************************************************************/

//-------------------------------------------------------------------------------------------------
void
CAbout::_construct()
{
    _initMain();
}
//-------------------------------------------------------------------------------------------------
void
CAbout::_destruct()
{

}
//-------------------------------------------------------------------------------------------------
void
CAbout::_initMain()
{
    ui.setupUi(this);

    ui.lblAppName->setText( qCApp->versionInfo() );

    //  signals, slots
    {
        connect(ui.bbxButtons, &QDialogButtonBox::clicked,
                this,          &CAbout::bbxButtons_onClicked);
    }
}
//-------------------------------------------------------------------------------------------------
void
CAbout::bbxButtons_onClicked(
    QAbstractButton *a_button
)
{
    QDialogButtonBox::StandardButton sbRv = ui.bbxButtons->standardButton(a_button);
    switch (sbRv) {
        case QDialogButtonBox::Ok:
            close();
            break;
        default:
            qTEST(false);
            break;
    }
}
//-------------------------------------------------------------------------------------------------
